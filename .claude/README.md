# Claude Code è‡ªåŠ¨åŒ–å¤šä»£ç†åä½œç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªå®Œå…¨è‡ªåŠ¨åŒ–çš„å¤šä»£ç†å¼€å‘å·¥ä½œæµç³»ç»Ÿï¼Œå¯ä»¥è®© Claude Code ä»è§„åˆ’åˆ°å®ç°å†åˆ°æµ‹è¯•ä¿®å¤ï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ã€‚

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

### åŠŸèƒ½

ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œè‡ªåŠ¨å®Œæˆï¼š
1. **éœ€æ±‚åˆ†æå’Œè§„åˆ’**ï¼ˆPlanner Agentï¼‰
2. **ä»£ç å®ç°**ï¼ˆDeveloper Agentï¼‰
3. **æµ‹è¯•éªŒè¯**ï¼ˆTester Agentï¼‰
4. **é—®é¢˜è°ƒè¯•**ï¼ˆDebugger Agentï¼‰
5. **è‡ªåŠ¨ä¿®å¤å¾ªç¯**ï¼ˆæµ‹è¯•å¤±è´¥æ—¶è‡ªåŠ¨è°ƒè¯•å’Œä¿®å¤ï¼‰

### å·¥ä½œæµç¨‹

```
ç”¨æˆ·è¾“å…¥: /auto-dev å†™ä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆ

     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DM (Development Manager) ä¸»åè°ƒå®ä¾‹          â”‚
â”‚  - ç†è§£éœ€æ±‚                                  â”‚
â”‚  - åè°ƒå„ä¸ªä»£ç†                               â”‚
â”‚  - ç®¡ç†å·¥ä½œæµçŠ¶æ€                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: PLANNER ğŸ“‹                         â”‚
â”‚  - åˆ†æéœ€æ±‚                                   â”‚
â”‚  - ç ”ç©¶ç°æœ‰ä»£ç                                â”‚
â”‚  - åˆ¶å®šè¯¦ç»†å®ç°è®¡åˆ’                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“ (Hook: workflow_dm.py è‡ªåŠ¨è§¦å‘)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 2: DEVELOPER ğŸ’»                       â”‚
â”‚  - æŒ‰è®¡åˆ’å®ç°ä»£ç                              â”‚
â”‚  - åˆ›å»º/ä¿®æ”¹æ–‡ä»¶                              â”‚
â”‚  - éµå¾ªæœ€ä½³å®è·µ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“ (Hook: workflow_dm.py è‡ªåŠ¨è§¦å‘)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 3: TESTER ğŸ§ª                          â”‚
â”‚  - è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•                             â”‚
â”‚  - æ‰§è¡Œæ‰‹åŠ¨æµ‹è¯•åœºæ™¯                           â”‚
â”‚  - æŠ¥å‘Šæµ‹è¯•ç»“æœ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
   åˆ¤æ–­æµ‹è¯•ç»“æœ
     â†“
  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
  â”‚           â”‚
 é€šè¿‡        å¤±è´¥
  â”‚           â”‚
  â†“           â†“ (Hook: workflow_dm.py è‡ªåŠ¨è§¦å‘)
å®Œæˆ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Phase 4: DEBUG LOOP ğŸ”„          â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ DEBUGGER åˆ†æé—®é¢˜          â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚           â†“                       â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ DEVELOPER ä¿®å¤é—®é¢˜         â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚           â†“                       â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ TESTER é‡æ–°æµ‹è¯•            â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚           â†“                       â”‚
        â”‚    (å¾ªç¯ç›´åˆ°é€šè¿‡æˆ–è¾¾åˆ°æœ€å¤§æ¬¡æ•°)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
              æœ€ç»ˆå®ŒæˆæŠ¥å‘Š
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
.claude/
â”œâ”€â”€ agents/                    # ä¸“é—¨åŒ–çš„å­ä»£ç†é…ç½®
â”‚   â”œâ”€â”€ planner.md            # è§„åˆ’å¸ˆ - åˆ†æéœ€æ±‚ï¼Œåˆ¶å®šè®¡åˆ’
â”‚   â”œâ”€â”€ developer.md          # å¼€å‘è€… - ç¼–å†™ä»£ç 
â”‚   â”œâ”€â”€ tester.md             # æµ‹è¯•å‘˜ - è¿è¡Œæµ‹è¯•ï¼ŒéªŒè¯åŠŸèƒ½
â”‚   â””â”€â”€ debugger.md           # è°ƒè¯•å‘˜ - åˆ†æé—®é¢˜ï¼Œæä¾›ä¿®å¤æ–¹æ¡ˆ
â”‚
â”œâ”€â”€ commands/                  # è‡ªå®šä¹‰ slash å‘½ä»¤
â”‚   â””â”€â”€ auto-dev.md           # ä¸»è‡ªåŠ¨åŒ–å·¥ä½œæµå‘½ä»¤
â”‚
â”œâ”€â”€ hooks/                     # Hook è„šæœ¬ï¼ˆè‡ªåŠ¨åŒ–é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ workflow_dm.py        # DM å†³ç­–å¼•æ“
â”‚   â””â”€â”€ test_checker.py       # æµ‹è¯•çŠ¶æ€ç›‘æ§
â”‚
â”œâ”€â”€ settings.json             # Claude Code é…ç½®
â””â”€â”€ README.md                 # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¡®ä¿ Python å¯ç”¨

Hook è„šæœ¬éœ€è¦ Python 3.6+ï¼š

```bash
python --version
# æˆ–
python3 --version
```

### 2. å¯åŠ¨ Claude Code

```bash
cd /path/to/your/project
claude
```

### 3. ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥ä½œæµ

åœ¨ Claude Code ä¸­æ‰§è¡Œï¼š

```
/auto-dev å†™ä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆ
```

æˆ–è€…ï¼š

```
/auto-dev æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼Œä½¿ç”¨ JWT ä»¤ç‰Œ
```

### 4. ç­‰å¾…å®Œæˆ

ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
- è§„åˆ’å®ç°æ–¹æ¡ˆ
- ç¼–å†™ä»£ç 
- è¿è¡Œæµ‹è¯•
- å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè‡ªåŠ¨è°ƒè¯•å’Œä¿®å¤ï¼ˆæœ€å¤š 5 æ¬¡è¿­ä»£ï¼‰
- æä¾›æœ€ç»ˆæŠ¥å‘Š

**å…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ï¼**

## ğŸ”§ ç³»ç»Ÿæ¶æ„

### ä¸‰å±‚æ¶æ„è®¾è®¡

#### Layer 1: å¤–éƒ¨ç¼–æ’ï¼ˆå¯é€‰ï¼‰

ä½¿ç”¨ Headless Mode è¿›è¡Œæ›´é«˜çº§çš„æ§åˆ¶ï¼š

```bash
# å®Œå…¨è‡ªåŠ¨åŒ–æ‰§è¡Œ
claude -p "/auto-dev æ·»åŠ æœç´¢åŠŸèƒ½" --max-turns 50

# æˆ–ä½¿ç”¨è„šæœ¬è¿›è¡Œæ›´å¤æ‚çš„ç¼–æ’
./scripts/autonomous_dev.sh "æ·»åŠ æœç´¢åŠŸèƒ½"
```

#### Layer 2: Claude Code ä¸»å®ä¾‹ + Hooks

- **ä¸»å®ä¾‹**ï¼šä½œä¸º DMï¼ˆDevelopment Managerï¼‰ï¼Œç†è§£ä¸Šä¸‹æ–‡å¹¶åè°ƒ
- **Hooks**ï¼šæä¾›ç¡®å®šæ€§çš„æµç¨‹æ§åˆ¶

**å…³é”® Hooksï¼š**

1. **SubagentStop Hook**ï¼ˆ`workflow_dm.py`ï¼‰
   - åœ¨æ¯ä¸ªå­ä»£ç†å®Œæˆåè§¦å‘
   - åˆ†æå½“å‰çŠ¶æ€ï¼ˆå“ªä¸ªä»£ç†å®Œæˆäº†ï¼Ÿæµ‹è¯•é€šè¿‡äº†å—ï¼Ÿï¼‰
   - å†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨
   - é€šè¿‡ `"decision": "block"` å¼ºåˆ¶ç»§ç»­å·¥ä½œæµ

2. **PostToolUse Hook**ï¼ˆ`test_checker.py`ï¼‰
   - ç›‘æ§ Bash å·¥å…·çš„æµ‹è¯•å‘½ä»¤æ‰§è¡Œ
   - è¯†åˆ«æµ‹è¯•ç»“æœ
   - æä¾›é¢å¤–çš„åé¦ˆ

#### Layer 3: ä¸“é—¨åŒ–çš„ Subagents

æ¯ä¸ªå­ä»£ç†æœ‰ï¼š
- **ç‹¬ç«‹çš„ä¸Šä¸‹æ–‡çª—å£**ï¼ˆä¸ä¼šæ±¡æŸ“ä¸»ä¼šè¯ï¼‰
- **ä¸“é—¨çš„ç³»ç»Ÿæç¤º**ï¼ˆé’ˆå¯¹ç‰¹å®šè§’è‰²ä¼˜åŒ–ï¼‰
- **å—é™çš„å·¥å…·è®¿é—®**ï¼ˆå®‰å…¨å’Œæ•ˆç‡ï¼‰
- **ç‰¹å®šçš„æ¨¡å‹é€‰æ‹©**ï¼ˆæ ¹æ®ä»»åŠ¡å¤æ‚åº¦ï¼‰

### Hook å†³ç­–é€»è¾‘

`workflow_dm.py` çš„æ ¸å¿ƒå†³ç­–è¡¨ï¼š

| å®Œæˆçš„ä»£ç† | æµ‹è¯•çŠ¶æ€ | è°ƒè¯•è¿­ä»£æ¬¡æ•° | ä¸‹ä¸€æ­¥è¡ŒåŠ¨ |
|-----------|---------|-------------|-----------|
| Planner | - | - | â†’ Developer (å®ç°) |
| Developer | - | 0 | â†’ Tester (é¦–æ¬¡æµ‹è¯•) |
| Developer | - | >0 | â†’ Tester (é‡æ–°æµ‹è¯•) |
| Tester | PASSED | - | âœ… å®Œæˆ |
| Tester | FAILED | <5 | â†’ Debugger (åˆ†æ) |
| Tester | FAILED | â‰¥5 | âš ï¸ è¾¾åˆ°æœ€å¤§æ¬¡æ•°ï¼Œåœæ­¢ |
| Debugger | - | - | â†’ Developer (ä¿®å¤) |

## ğŸ® ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: åˆ›å»ºæ¸¸æˆ

```
/auto-dev åˆ›å»ºä¸€ä¸ªç®€å•çš„äº•å­—æ£‹æ¸¸æˆï¼Œä½¿ç”¨ HTML/CSS/JavaScriptï¼ŒåŒ…å« AI å¯¹æ‰‹
```

**ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š**
1. è§„åˆ’æ¸¸æˆæ¶æ„ï¼ˆHTML ç»“æ„ã€CSS æ ·å¼ã€JS é€»è¾‘ã€AI ç®—æ³•ï¼‰
2. å®ç°å®Œæ•´çš„æ¸¸æˆä»£ç 
3. è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰æˆ–è¿›è¡ŒåŠŸèƒ½éªŒè¯
4. ä¿®å¤ä»»ä½•å‘ç°çš„é—®é¢˜
5. è¾“å‡ºæœ€ç»ˆæŠ¥å‘Š

### ç¤ºä¾‹ 2: æ·»åŠ åŠŸèƒ½

```
/auto-dev ä¸ºç°æœ‰çš„ Express API æ·»åŠ ç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½ï¼Œä½¿ç”¨ bcrypt åŠ å¯†å¯†ç 
```

**ç³»ç»Ÿä¼šï¼š**
1. åˆ†æç°æœ‰çš„ Express åº”ç”¨ç»“æ„
2. è®¾è®¡è®¤è¯æ–¹æ¡ˆ
3. å®ç°æ³¨å†Œ/ç™»å½•ç«¯ç‚¹
4. æ·»åŠ å¯†ç åŠ å¯†
5. è¿è¡Œæµ‹è¯•
6. ä¿®å¤é›†æˆé—®é¢˜

### ç¤ºä¾‹ 3: ä¿®å¤é—®é¢˜

```
/auto-dev ä¿®å¤è´­ç‰©è½¦ä¸­çš„æ•°é‡è®¡ç®—é”™è¯¯ï¼Œç¡®ä¿è´Ÿæ•°å’Œéæ³•è¾“å…¥è¢«æ­£ç¡®å¤„ç†
```

## âš™ï¸ é…ç½®å’Œå®šåˆ¶

### è°ƒæ•´æœ€å¤§è°ƒè¯•è¿­ä»£æ¬¡æ•°

ç¼–è¾‘ `.claude/hooks/workflow_dm.py`ï¼š

```python
MAX_DEBUG_ITERATIONS = 5  # æ”¹ä¸ºä½ æƒ³è¦çš„æ¬¡æ•°
```

### ä¿®æ”¹å­ä»£ç†è¡Œä¸º

ç¼–è¾‘å¯¹åº”çš„ `.claude/agents/*.md` æ–‡ä»¶ï¼š

```markdown
---
name: developer
tools: Read, Write, Edit, Grep, Glob, Bash  # æ·»åŠ æˆ–ç§»é™¤å·¥å…·
model: opus  # æ”¹ä¸º opus è·å¾—æ›´é«˜è´¨é‡ï¼ˆä½†æ›´æ…¢æ›´è´µï¼‰
---

ä½ çš„è‡ªå®šä¹‰ç³»ç»Ÿæç¤º...
```

### æ·»åŠ è‡ªå®šä¹‰ä»£ç†

åˆ›å»º `.claude/agents/my-agent.md`ï¼š

```markdown
---
name: my-agent
description: ç®€çŸ­æè¿°ï¼Œå‘Šè¯‰ä¸»å®ä¾‹ä½•æ—¶ä½¿ç”¨è¿™ä¸ªä»£ç†
tools: Read, Grep
model: sonnet
---

ä½ æ˜¯ä¸€ä¸ªä¸“å®¶...
```

ç„¶ååœ¨ `/auto-dev` å‘½ä»¤ä¸­æ·»åŠ å¯¹è¿™ä¸ªä»£ç†çš„è°ƒç”¨ã€‚

### ç¦ç”¨è‡ªåŠ¨åŒ–ï¼ˆæ‰‹åŠ¨æ¨¡å¼ï¼‰

å¦‚æœä½ æƒ³æ‰‹åŠ¨æ§åˆ¶å·¥ä½œæµï¼Œå¯ä»¥ï¼š

1. **ä¸´æ—¶ç¦ç”¨**ï¼šé‡å‘½å `settings.json`
   ```bash
   mv .claude/settings.json .claude/settings.json.disabled
   ```

2. **é€‰æ‹©æ€§ä½¿ç”¨**ï¼šç›´æ¥è°ƒç”¨å•ä¸ªä»£ç†
   ```
   Use the planner agent to analyze this feature: [describe feature]
   ```

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹ Hook æ—¥å¿—

Hook è„šæœ¬ä¼šè¾“å‡ºæ—¥å¿—åˆ° stderrï¼š

```bash
# å¦‚æœä½¿ç”¨ headless modeï¼Œæ—¥å¿—ä¼šæ˜¾ç¤º
claude -p "/auto-dev test" 2>&1 | grep "Workflow DM"
```

### æŸ¥çœ‹å·¥ä½œæµçŠ¶æ€

åœ¨ `/auto-dev` æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸» Claude å®ä¾‹ä¼šï¼š
- æ˜¾ç¤ºå½“å‰é˜¶æ®µ
- æŠ¥å‘Šæ¯ä¸ªä»£ç†çš„è¾“å‡º
- è¯´æ˜ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### è°ƒè¯• Hook è„šæœ¬

æµ‹è¯• `workflow_dm.py`ï¼š

```bash
# åˆ›å»ºæµ‹è¯•è¾“å…¥
echo '{"transcript_path": "path/to/transcript.txt"}' | python .claude/hooks/workflow_dm.py
```

## ğŸ“Š æ€§èƒ½å’Œæˆæœ¬

### Token ä½¿ç”¨

- **ä¸»å®ä¾‹**ï¼šåŒ…å«å®Œæ•´çš„å·¥ä½œæµä¸Šä¸‹æ–‡
- **æ¯ä¸ªå­ä»£ç†**ï¼šç‹¬ç«‹ä¸Šä¸‹æ–‡çª—å£ï¼ŒåªåŒ…å«ç›¸å…³ä¿¡æ¯
- **ä¼˜åŠ¿**ï¼šæ€» token ä½¿ç”¨é€šå¸¸æ¯”å•ä¼šè¯æ›´å°‘ï¼ˆå› ä¸ºä¸Šä¸‹æ–‡éš”ç¦»ï¼‰

### å…¸å‹æˆæœ¬ï¼ˆä»¥è´ªåƒè›‡æ¸¸æˆä¸ºä¾‹ï¼‰

å‡è®¾ä½¿ç”¨ Sonnetï¼š
- Planner: ~5K tokens
- Developer: ~15K tokens
- Tester: ~5K tokens
- Debugger (å¦‚æœéœ€è¦): ~8K tokens Ã— è¿­ä»£æ¬¡æ•°
- Developer fixes: ~10K tokens Ã— è¿­ä»£æ¬¡æ•°

**æ€»è®¡**ï¼šçº¦ 25K-50K tokensï¼ˆå–å†³äºæ˜¯å¦éœ€è¦è°ƒè¯•ï¼‰

### é€Ÿåº¦

- **è§„åˆ’**: 10-30 ç§’
- **å®ç°**: 30-90 ç§’
- **æµ‹è¯•**: 10-30 ç§’ï¼ˆåŒ…æ‹¬è¿è¡Œæ—¶é—´ï¼‰
- **è°ƒè¯•+ä¿®å¤**: 40-80 ç§’/è¿­ä»£

**æ€»è€—æ—¶**ï¼š2-10 åˆ†é’Ÿï¼ˆå–å†³äºå¤æ‚åº¦å’Œè¿­ä»£æ¬¡æ•°ï¼‰

## ğŸš¨ æ•…éšœæ’é™¤

### Hook ä¸å·¥ä½œ

**é—®é¢˜**: å­ä»£ç†å®Œæˆåæ²¡æœ‰è‡ªåŠ¨ç»§ç»­

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ Python æ˜¯å¦å¯ç”¨ï¼š`python --version`
2. æ£€æŸ¥ hook è„šæœ¬æ˜¯å¦å¯æ‰§è¡Œ
3. æŸ¥çœ‹ settings.json ä¸­çš„è·¯å¾„æ˜¯å¦æ­£ç¡®
4. ç¡®ä¿ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–æ­£ç¡®çš„ç»å¯¹è·¯å¾„

### å·¥ä½œæµå¡ä½

**é—®é¢˜**: å·¥ä½œæµåœ¨æŸä¸ªé˜¶æ®µåœæ­¢

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æœ€è¿‘çš„è¾“å‡º - DM è¯´äº†ä»€ä¹ˆï¼Ÿ
2. æ‰‹åŠ¨æ‰§è¡Œä¸‹ä¸€æ­¥ï¼š`Use the [agent] agent to ...`
3. æŸ¥çœ‹ hook æ—¥å¿—ï¼šé”™è¯¯ä¼šè¾“å‡ºåˆ° stderr
4. ä¸´æ—¶ç¦ç”¨ hooks å¹¶æ‰‹åŠ¨åè°ƒ

### æµ‹è¯•å¾ªç¯ä¸åœæ­¢

**é—®é¢˜**: è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ä½†ä»ç„¶å¤±è´¥

**åŸå› **: æŸäº›é—®é¢˜å¯èƒ½éœ€è¦äººå·¥å¹²é¢„

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥çœ‹æœ€åçš„è°ƒè¯•åˆ†æ
2. æ‰‹åŠ¨å®¡æŸ¥å¤±è´¥çš„æµ‹è¯•
3. ä½¿ç”¨æ ‡å‡†çš„ Claude Code è¿›è¡Œäººå·¥ä¿®å¤
4. æˆ–å¢åŠ æœ€å¤§è¿­ä»£æ¬¡æ•°

### Agent äº§ç”Ÿçš„è¾“å‡ºä¸ç¬¦åˆé¢„æœŸ

**é—®é¢˜**: Agent æ²¡æœ‰æŒ‰ç…§é¢„æœŸå·¥ä½œ

**è§£å†³æ–¹æ¡ˆ**:
1. ç¼–è¾‘å¯¹åº”çš„ `.claude/agents/*.md` æ–‡ä»¶
2. æ”¹è¿›ç³»ç»Ÿæç¤º
3. æ·»åŠ æ›´å¤šå…·ä½“çš„æŒ‡ä»¤å’Œç¤ºä¾‹
4. è°ƒæ•´å·¥å…·æƒé™

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ¸…æ™°çš„éœ€æ±‚æè¿°

âœ… **å¥½çš„**:
```
/auto-dev åˆ›å»ºä¸€ä¸ª REST API ç«¯ç‚¹ /api/users/:idï¼Œæ”¯æŒ GET å’Œ PUT è¯·æ±‚ï¼Œ
ä½¿ç”¨ Express å’Œ PostgreSQLï¼ŒåŒ…å«è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†
```

âŒ **ä¸å¥½çš„**:
```
/auto-dev åšä¸€ä¸ªç”¨æˆ· API
```

### 2. æŒ‡å®šæŠ€æœ¯æ ˆ

```
/auto-dev ä½¿ç”¨ React + TypeScript + Tailwind åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„ç”¨æˆ·èµ„æ–™é¡µé¢
```

### 3. è¯´æ˜æµ‹è¯•è¦æ±‚

```
/auto-dev å®ç°ä¸€ä¸ªå¯†ç éªŒè¯å‡½æ•°ï¼Œè¦æ±‚è‡³å°‘ 8 ä¸ªå­—ç¬¦ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼Œ
å¹¶ç¼–å†™å®Œæ•´çš„å•å…ƒæµ‹è¯•
```

### 4. åˆ†è§£å¤§å‹ä»»åŠ¡

å¯¹äºéå¸¸å¤æ‚çš„åŠŸèƒ½ï¼Œè€ƒè™‘åˆ†å¤šæ¬¡æ‰§è¡Œï¼š

```
# ç¬¬ä¸€æ¬¡
/auto-dev åˆ›å»ºç”¨æˆ·æ•°æ®æ¨¡å‹å’Œæ•°æ®åº“ schema

# ç¬¬äºŒæ¬¡
/auto-dev å®ç°ç”¨æˆ·æ³¨å†Œå’Œç™»å½• API ç«¯ç‚¹

# ç¬¬ä¸‰æ¬¡
/auto-dev æ·»åŠ ç”¨æˆ·èµ„æ–™é¡µé¢ UI
```

## ğŸ”® é«˜çº§ç”¨æ³•

### Headless Mode è„šæœ¬ç¼–æ’

åˆ›å»º `scripts/auto_dev.sh`ï¼š

```bash
#!/bin/bash

FEATURE="$1"
MAX_ATTEMPTS=3

for i in $(seq 1 $MAX_ATTEMPTS); do
  echo "Attempt $i of $MAX_ATTEMPTS"

  result=$(claude -p "/auto-dev $FEATURE" --max-turns 50 --output-format json)

  # æ£€æŸ¥æ˜¯å¦æˆåŠŸ
  if echo "$result" | jq -e '.success == true' > /dev/null; then
    echo "Success!"
    exit 0
  fi

  echo "Attempt $i failed, retrying..."
done

echo "Failed after $MAX_ATTEMPTS attempts"
exit 1
```

ä½¿ç”¨ï¼š
```bash
./scripts/auto_dev.sh "æ·»åŠ å¯¼å‡ºä¸º PDF åŠŸèƒ½"
```

### CI/CD é›†æˆ

åœ¨ GitHub Actions ä¸­ä½¿ç”¨ï¼š

```yaml
# .github/workflows/auto-dev.yml
name: Auto Development

on:
  issues:
    types: [labeled]

jobs:
  auto-dev:
    if: github.event.label.name == 'auto-implement'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run auto-dev
        run: |
          claude -p "/auto-dev ${{ github.event.issue.title }}: ${{ github.event.issue.body }}" \
            --max-turns 50
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v5
        with:
          title: "Auto-implemented: ${{ github.event.issue.title }}"
```

### è‡ªå®šä¹‰å·¥ä½œæµ

åˆ›å»º `.claude/commands/my-workflow.md`ï¼š

```markdown
---
description: æˆ‘çš„è‡ªå®šä¹‰å¼€å‘å·¥ä½œæµ
---

1. Use the planner agent...
2. Use my-custom-agent to...
3. Use the developer agent...
4. ...
```

## ğŸ“š æ‰©å±•é˜…è¯»

- [Claude Code å®˜æ–¹æ–‡æ¡£](https://docs.claude.com/en/docs/claude-code)
- [Subagents æŒ‡å—](https://docs.claude.com/en/docs/claude-code/subagents)
- [Hooks å‚è€ƒ](https://docs.claude.com/en/docs/claude-code/hooks)
- [Slash Commands](https://docs.claude.com/en/docs/claude-code/commands)

## ğŸ¤ è´¡çŒ®å’Œåé¦ˆ

è¿™ä¸ªç³»ç»Ÿæ˜¯å®éªŒæ€§çš„ï¼Œéšç€ Claude Code çš„å‘å±•ä¼šä¸æ–­æ”¹è¿›ã€‚

æ¬¢è¿ï¼š
- æŠ¥å‘Šé—®é¢˜å’Œ bug
- å»ºè®®æ”¹è¿›
- åˆ†äº«ä½ çš„ä½¿ç”¨æ¡ˆä¾‹
- è´¡çŒ®æ–°çš„ agent é…ç½®
- ä¼˜åŒ– hook è„šæœ¬é€»è¾‘

## ğŸ“„ è®¸å¯

è¿™ä¸ªé…ç½®æ˜¯å¼€æºçš„ï¼Œä½ å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚

---

**äº«å—å®Œå…¨è‡ªåŠ¨åŒ–çš„å¼€å‘ä½“éªŒï¼** ğŸš€

æœ‰é—®é¢˜ï¼Ÿåœ¨ä½ çš„ Claude Code ä¼šè¯ä¸­é—®æˆ‘ï¼
